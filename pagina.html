<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta CEP</title>
    <link rel="stylesheet" href="stiloCEP.css">
    
</head>
<body>
    <header><h1>Consulta CEP</h1></header>

    <div >
        <p>CEP:
            <input type="text" id="cep">            
        
            <input type="button" value="Consultar">
            <h1>Dados do CEP abaixo</h1></p>
            <small>Rua:</small>
            <input type="text" name="numero" id="logradouro"></p>
            <small>Bairro:</small>
            <input type="text" name="numero" id="bairro"></p>
            <small>Cidade:</small>
            <input type="text" name="numero" id="localidade"></p>
            <small>Estado</small>
            <input type="text" name="numero" id="uf">
            
            
    </div>
    <script>
        var input = document.getElementById("cep");
        input.addEventListener("input", function() {
            if (this.value.length > 9 ) {
                window.alert("[Erro] - Por favor digite o formato de cep, são apenas nove dígitos");
                this.value = ""
            }});
            
    </script>
    <script src="script.js"></script>
    <script>
        var input = document.getElementById("cep");
var functionCalled = false;
input.addEventListener("blur", function() {
    if (input.value.length == 8 || input.value.length == 9  ) {
        functionCalled = true;
        consulta();
    } else {
        window.alert("[Erro] - Por favor digite o formato de cep, são apenas 8 dígitos");
        this.value = "";
    }
});
input.addEventListener("keypress", function(event) {
    if (event.keyCode === 13 && input.value.length === 8) {
        if (functionCalled) return;
        functionCalled = true;
        consulta();
    }
});


        
      </script>
</body>
<footer>
    <p>&copy;Markalibert</p>
</footer>

</html>
